# Архитектура приложения

## Общая структура

Приложение построено по принципу **Feature-Sliced Design** с разделением на слои:

```
src/
├── components/     # UI компоненты (презентационный слой)
├── pages/          # Страницы (композиция компонентов)
├── services/       # Бизнес-логика и работа с данными
├── models/         # Модели данных (TypeScript интерфейсы)
├── store/          # Глобальное состояние (Zustand)
├── hooks/          # Переиспользуемые хуки
└── utils/          # Утилиты и константы
```

## Слои приложения

### 1. Presentation Layer (Компоненты)
- **UI компоненты** (`components/ui/`) - переиспользуемые базовые компоненты
- **Feature компоненты** (`components/`) - специфичные компоненты для функций

### 2. Business Logic Layer (Сервисы)
- **Repositories** - работа с данными (LocalStorage/API)
- **API Client** - абстракция для HTTP запросов

### 3. Data Layer (Модели)
- TypeScript интерфейсы для всех сущностей
- Типизация на всех уровнях

## Подготовка к Backend

### Текущая реализация (LocalStorage)
```typescript
// src/services/dishesRepository.ts
dishesRepository.getAll() // Загружает из LocalStorage
```

### Будущая реализация (API)
```typescript
// src/services/api/client.ts
// Реализовать методы get, post, put, delete
// Обновить репозитории для использования apiClient
```

### Миграция на API:
1. Реализовать `apiClient` методы
2. Создать `ApiDataSource` реализующий `DataSource<T>`
3. Обновить репозитории для использования `ApiDataSource`
4. Добавить обработку ошибок и авторизацию

## Оптимизация для официантов

### Touch-оптимизация:
- Минимальный размер кнопок: 44x44px
- Увеличенные отступы для удобного нажатия
- `touch-action: manipulation` для быстрого отклика
- Крупные иконки и текст

### UX улучшения:
- Sticky header для быстрого доступа к навигации
- Цветовые индикаторы статусов
- Быстрые действия (1-2 клика)
- Адаптивный дизайн для планшетов

## Паттерны проектирования

### Repository Pattern
Инкапсуляция логики работы с данными:
```typescript
dishesRepository.getAll()
dishesRepository.add(dish)
dishesRepository.update(dish)
```

### Factory Pattern
Создание репозиториев через единый интерфейс

### Observer Pattern
React hooks для реактивности

## Производительность

### Оптимизации:
- `useMemo` для дорогих вычислений
- `useCallback` для стабильных функций
- Lazy loading компонентов (готово к использованию)
- Мемоизация списков

### Рекомендации:
- Использовать React.memo для тяжелых компонентов
- Виртуализация длинных списков (react-window)
- Code splitting для больших страниц

## Масштабируемость

### Добавление новых функций:
1. Создать модель в `models/`
2. Создать репозиторий в `services/`
3. Создать компоненты в `components/`
4. Создать страницу в `pages/`
5. Добавить маршрут в `router.tsx`

### Интеграция с Backend:
- Все репозитории готовы к замене источника данных
- API клиент абстрагирован
- Типизация сохраняется на всех уровнях

